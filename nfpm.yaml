name: sysc-greet
arch: amd64
platform: linux
version: ${VERSION}
section: misc
priority: optional
maintainer: Nomadcxx <noovie@gmail.com>
description: |
  Graphical console greeter for greetd with ASCII art and themes.
  Supports Niri, Hyprland, and Sway compositors.
vendor: Nomadcxx
homepage: https://github.com/Nomadcxx/sysc-greet
license: GPL-3.0

contents:
  # Main binary
  - src: ./sysc-greet
    dst: /usr/local/bin/sysc-greet
    file_info:
      mode: 0755

  # ASCII configs
  - src: ./ascii_configs/
    dst: /usr/share/sysc-greet/ascii_configs/
    type: tree

  # Wallpapers
  - src: ./wallpapers/
    dst: /usr/share/sysc-greet/wallpapers/
    type: tree

  # Fonts
  - src: ./fonts/
    dst: /usr/share/sysc-greet/fonts/
    type: tree

  # Kitty config
  - src: ./config/kitty-greeter.conf
    dst: /etc/greetd/kitty.conf
    file_info:
      mode: 0644

  # Niri config
  - src: ./config/niri-greeter-config.kdl
    dst: /etc/greetd/niri-greeter-config.kdl
    file_info:
      mode: 0644

  # Hyprland legacy config (for stable distros)
  - src: ./config/hyprland-greeter-config-legacy.conf
    dst: /etc/greetd/hyprland-greeter-config.conf
    file_info:
      mode: 0644

  # Sway config
  - src: ./config/sway-greeter-config
    dst: /etc/greetd/sway-greeter-config
    file_info:
      mode: 0644

  # Directories (empty, will be populated at runtime)
  - dst: /var/cache/sysc-greet
    type: dir
  - dst: /var/lib/greeter/Pictures/wallpapers
    type: dir

scripts:
  postinstall: ./scripts/postinstall.sh
  preremove: ./scripts/preremove.sh
